(function(){function t(e,t){for(var n=0;n<t.length;n+=1){if(t[n]===e){return true}}return false}function n(e){return e.replace(/^\s+|\s+$/g,"")}function r(e,t){"use strict";var n=new s(e,t);return n.beautify()}function s(e,r){"use strict";function S(e,t){var n=0;if(e){n=e.indentation_level;if(!s.just_added_newline()&&e.line_indent_level>n){n=e.line_indent_level}}var r={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:false,declaration_assignment:false,multiline_frame:false,if_block:false,else_block:false,do_block:false,do_while:false,in_case_statement:false,in_case:false,case_body:false,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:s.get_line_number(),ternary_depth:0};return r}function T(e){var t=e.newlines;var n=w.keep_array_indentation&&D(v.mode);if(n){for(r=0;r<t;r+=1){k(r>0)}}else{if(w.max_preserve_newlines&&t>w.max_preserve_newlines){t=w.max_preserve_newlines}if(w.preserve_newlines){if(e.newlines>1){k();for(var r=1;r<t;r+=1){k(true)}}}}c=e;b[c.type]()}function N(e){e=e.replace(/\x0d/g,"");var t=[],n=e.indexOf("\n");while(n!==-1){t.push(e.substring(0,n));e=e.substring(n+1);n=e.indexOf("\n")}if(e.length){t.push(e)}return t}function C(e){e=e===undefined?false:e;if(s.just_added_newline()){return}if(w.preserve_newlines&&c.wanted_newline||e){k(false,true)}else if(w.wrap_line_length){var t=s.current_line.get_character_count()+c.text.length+(s.space_before_token?1:0);if(t>=w.wrap_line_length){k(false,true)}}}function k(e,t){if(!t){if(v.last_text!==";"&&v.last_text!==","&&v.last_text!=="="&&h!=="TK_OPERATOR"){while(v.mode===i.Statement&&!v.if_block&&!v.do_block){H()}}}if(s.add_new_line(e)){v.multiline_frame=true}}function L(){if(s.just_added_newline()){if(w.keep_array_indentation&&D(v.mode)&&c.wanted_newline){s.current_line.push(c.whitespace_before);s.space_before_token=false}else if(s.set_indent(v.indentation_level)){v.line_indent_level=v.indentation_level}}}function A(e){e=e||c.text;L();s.add_token(e)}function O(){v.indentation_level+=1}function M(){if(v.indentation_level>0&&(!v.parent||v.indentation_level>v.parent.indentation_level))v.indentation_level-=1}function _(e){if(v){g.push(v);m=v}else{m=S(null,e)}v=S(m,e)}function D(e){return e===i.ArrayLiteral}function P(e){return t(e,[i.Expression,i.ForInitializer,i.Conditional])}function H(){if(g.length>0){m=v;v=g.pop();if(m.mode===i.Statement){s.remove_redundant_indentation(m)}}}function B(){return v.parent.mode===i.ObjectLiteral&&v.mode===i.Statement&&(v.last_text===":"&&v.ternary_depth===0||h==="TK_RESERVED"&&t(v.last_text,["get","set"]))}function j(){if(h==="TK_RESERVED"&&t(v.last_text,["var","let","const"])&&c.type==="TK_WORD"||h==="TK_RESERVED"&&v.last_text==="do"||h==="TK_RESERVED"&&v.last_text==="return"&&!c.wanted_newline||h==="TK_RESERVED"&&v.last_text==="else"&&!(c.type==="TK_RESERVED"&&c.text==="if")||h==="TK_END_EXPR"&&(m.mode===i.ForInitializer||m.mode===i.Conditional)||h==="TK_WORD"&&v.mode===i.BlockStatement&&!v.in_case&&!(c.text==="--"||c.text==="++")&&c.type!=="TK_WORD"&&c.type!=="TK_RESERVED"||v.mode===i.ObjectLiteral&&(v.last_text===":"&&v.ternary_depth===0||h==="TK_RESERVED"&&t(v.last_text,["get","set"]))){_(i.Statement);O();if(h==="TK_RESERVED"&&t(v.last_text,["var","let","const"])&&c.type==="TK_WORD"){v.declaration_statement=true}if(!B()){C(c.type==="TK_RESERVED"&&t(c.text,["do","for","if","while"]))}return true}return false}function F(e,t){for(var r=0;r<e.length;r++){var i=n(e[r]);if(i.charAt(0)!==t){return false}}return true}function I(e,t){var n=0,r=e.length,i;for(;n<r;n++){i=e[n];if(i&&i.indexOf(t)!==0){return false}}return true}function q(e){return t(e,["case","return","do","if","throw","else"])}function R(e){var t=a+(e||0);return t<0||t>=o.length?null:o[t]}function U(){if(j()){}var e=i.Expression;if(c.text==="["){if(h==="TK_WORD"||v.last_text===")"){if(h==="TK_RESERVED"&&t(v.last_text,l.line_starters)){s.space_before_token=true}_(e);A();O();if(w.space_in_paren){s.space_before_token=true}return}e=i.ArrayLiteral;if(D(v.mode)){if(v.last_text==="["||v.last_text===","&&(p==="]"||p==="}")){if(!w.keep_array_indentation){k()}}}}else{if(h==="TK_RESERVED"&&v.last_text==="for"){e=i.ForInitializer}else if(h==="TK_RESERVED"&&t(v.last_text,["if","while"])){e=i.Conditional}else{}}if(v.last_text===";"||h==="TK_START_BLOCK"){k()}else if(h==="TK_END_EXPR"||h==="TK_START_EXPR"||h==="TK_END_BLOCK"||v.last_text==="."){C(c.wanted_newline)}else if(!(h==="TK_RESERVED"&&c.text==="(")&&h!=="TK_WORD"&&h!=="TK_OPERATOR"){s.space_before_token=true}else if(h==="TK_RESERVED"&&(v.last_word==="function"||v.last_word==="typeof")||v.last_text==="*"&&p==="function"){if(w.space_after_anon_function){s.space_before_token=true}}else if(h==="TK_RESERVED"&&(t(v.last_text,l.line_starters)||v.last_text==="catch")){if(w.space_before_conditional){s.space_before_token=true}}if(c.text==="("){if(h==="TK_EQUALS"||h==="TK_OPERATOR"){if(!B()){C()}}}_(e);A();if(w.space_in_paren){s.space_before_token=true}O()}function z(){while(v.mode===i.Statement){H()}if(v.multiline_frame){C(c.text==="]"&&D(v.mode)&&!w.keep_array_indentation)}if(w.space_in_paren){if(h==="TK_START_EXPR"&&!w.space_in_empty_paren){s.trim();s.space_before_token=false}else{s.space_before_token=true}}if(c.text==="]"&&w.keep_array_indentation){A();H()}else{H();A()}s.remove_redundant_indentation(m);if(v.do_while&&m.mode===i.Conditional){m.mode=i.Expression;v.do_block=false;v.do_while=false}}function W(){var e=R(1);var n=R(2);if(n&&(n.text===":"&&t(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||t(e.text,["get","set"])&&t(n.type,["TK_WORD","TK_RESERVED"]))){if(!t(p,["class","interface"])){_(i.ObjectLiteral)}else{_(i.BlockStatement)}}else{_(i.BlockStatement)}var r=!e.comments_before.length&&e.text==="}";var o=r&&v.last_word==="function"&&h==="TK_END_EXPR";if(w.brace_style==="expand"||w.brace_style==="none"&&c.wanted_newline){if(h!=="TK_OPERATOR"&&(o||h==="TK_EQUALS"||h==="TK_RESERVED"&&q(v.last_text)&&v.last_text!=="else")){s.space_before_token=true}else{k(false,true)}}else{if(h!=="TK_OPERATOR"&&h!=="TK_START_EXPR"){if(h==="TK_START_BLOCK"){k()}else{s.space_before_token=true}}else{if(D(m.mode)&&v.last_text===","){if(p==="}"){s.space_before_token=true}else{k()}}}}A();O()}function X(){while(v.mode===i.Statement){H()}var e=h==="TK_START_BLOCK";if(w.brace_style==="expand"){if(!e){k()}}else{if(!e){if(D(v.mode)&&w.keep_array_indentation){w.keep_array_indentation=false;k();w.keep_array_indentation=true}else{k()}}}H();A()}function V(){if(c.type==="TK_RESERVED"&&v.mode!==i.ObjectLiteral&&t(c.text,["set","get"])){c.type="TK_WORD"}if(c.type==="TK_RESERVED"&&v.mode===i.ObjectLiteral){var e=R(1);if(e.text==":"){c.type="TK_WORD"}}if(j()){}else if(c.wanted_newline&&!P(v.mode)&&(h!=="TK_OPERATOR"||v.last_text==="--"||v.last_text==="++")&&h!=="TK_EQUALS"&&(w.preserve_newlines||!(h==="TK_RESERVED"&&t(v.last_text,["var","let","const","set","get"])))){k()}if(v.do_block&&!v.do_while){if(c.type==="TK_RESERVED"&&c.text==="while"){s.space_before_token=true;A();s.space_before_token=true;v.do_while=true;return}else{k();v.do_block=false}}if(v.if_block){if(!v.else_block&&c.type==="TK_RESERVED"&&c.text==="else"){v.else_block=true}else{while(v.mode===i.Statement){H()}v.if_block=false;v.else_block=false}}if(c.type==="TK_RESERVED"&&(c.text==="case"||c.text==="default"&&v.in_case_statement)){k();if(v.case_body||w.jslint_happy){M();v.case_body=false}A();v.in_case=true;v.in_case_statement=true;return}if(c.type==="TK_RESERVED"&&c.text==="function"){if(t(v.last_text,["}",";"])||s.just_added_newline()&&!t(v.last_text,["[","{",":","=",","])){if(!s.just_added_blankline()&&!c.comments_before.length){k();k(true)}}if(h==="TK_RESERVED"||h==="TK_WORD"){if(h==="TK_RESERVED"&&t(v.last_text,["get","set","new","return","export"])){s.space_before_token=true}else if(h==="TK_RESERVED"&&v.last_text==="default"&&p==="export"){s.space_before_token=true}else{k()}}else if(h==="TK_OPERATOR"||v.last_text==="="){s.space_before_token=true}else if(!v.multiline_frame&&(P(v.mode)||D(v.mode))){}else{k()}}if(h==="TK_COMMA"||h==="TK_START_EXPR"||h==="TK_EQUALS"||h==="TK_OPERATOR"){if(!B()){C()}}if(c.type==="TK_RESERVED"&&t(c.text,["function","get","set"])){A();v.last_word=c.text;return}y="NONE";if(h==="TK_END_BLOCK"){if(!(c.type==="TK_RESERVED"&&t(c.text,["else","catch","finally"]))){y="NEWLINE"}else{if(w.brace_style==="expand"||w.brace_style==="end-expand"||w.brace_style==="none"&&c.wanted_newline){y="NEWLINE"}else{y="SPACE";s.space_before_token=true}}}else if(h==="TK_SEMICOLON"&&v.mode===i.BlockStatement){y="NEWLINE"}else if(h==="TK_SEMICOLON"&&P(v.mode)){y="SPACE"}else if(h==="TK_STRING"){y="NEWLINE"}else if(h==="TK_RESERVED"||h==="TK_WORD"||v.last_text==="*"&&p==="function"){y="SPACE"}else if(h==="TK_START_BLOCK"){y="NEWLINE"}else if(h==="TK_END_EXPR"){s.space_before_token=true;y="NEWLINE"}if(c.type==="TK_RESERVED"&&t(c.text,l.line_starters)&&v.last_text!==")"){if(v.last_text==="else"||v.last_text==="export"){y="SPACE"}else{y="NEWLINE"}}if(c.type==="TK_RESERVED"&&t(c.text,["else","catch","finally"])){if(h!=="TK_END_BLOCK"||w.brace_style==="expand"||w.brace_style==="end-expand"||w.brace_style==="none"&&c.wanted_newline){k()}else{s.trim(true);var n=s.current_line;if(n.last()!=="}"){k()}s.space_before_token=true}}else if(y==="NEWLINE"){if(h==="TK_RESERVED"&&q(v.last_text)){s.space_before_token=true}else if(h!=="TK_END_EXPR"){if((h!=="TK_START_EXPR"||!(c.type==="TK_RESERVED"&&t(c.text,["var","let","const"])))&&v.last_text!==":"){if(c.type==="TK_RESERVED"&&c.text==="if"&&v.last_text==="else"){s.space_before_token=true}else{k()}}}else if(c.type==="TK_RESERVED"&&t(c.text,l.line_starters)&&v.last_text!==")"){k()}}else if(v.multiline_frame&&D(v.mode)&&v.last_text===","&&p==="}"){k()}else if(y==="SPACE"){s.space_before_token=true}A();v.last_word=c.text;if(c.type==="TK_RESERVED"&&c.text==="do"){v.do_block=true}if(c.type==="TK_RESERVED"&&c.text==="if"){v.if_block=true}}function $(){if(j()){s.space_before_token=false}while(v.mode===i.Statement&&!v.if_block&&!v.do_block){H()}A()}function J(){if(j()){s.space_before_token=true}else if(h==="TK_RESERVED"||h==="TK_WORD"){s.space_before_token=true}else if(h==="TK_COMMA"||h==="TK_START_EXPR"||h==="TK_EQUALS"||h==="TK_OPERATOR"){if(!B()){C()}}else{k()}A()}function K(){if(j()){}if(v.declaration_statement){v.declaration_assignment=true}s.space_before_token=true;A();s.space_before_token=true}function Q(){if(v.declaration_statement){if(P(v.parent.mode)){v.declaration_assignment=false}A();if(v.declaration_assignment){v.declaration_assignment=false;k(false,true)}else{s.space_before_token=true}return}A();if(v.mode===i.ObjectLiteral||v.mode===i.Statement&&v.parent.mode===i.ObjectLiteral){if(v.mode===i.Statement){H()}k()}else{s.space_before_token=true}}function G(){if(j()){}if(h==="TK_RESERVED"&&q(v.last_text)){s.space_before_token=true;A();return}if(c.text==="*"&&h==="TK_DOT"){A();return}if(c.text===":"&&v.in_case){v.case_body=true;O();A();k();v.in_case=false;return}if(c.text==="::"){A();return}if(c.wanted_newline&&(c.text==="--"||c.text==="++")){k(false,true)}if(h==="TK_OPERATOR"){C()}var e=true;var n=true;if(t(c.text,["--","++","!","~"])||t(c.text,["-","+"])&&(t(h,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||t(v.last_text,l.line_starters)||v.last_text===",")){e=false;n=false;if(v.last_text===";"&&P(v.mode)){e=true}if(h==="TK_RESERVED"||h==="TK_END_EXPR"){e=true}else if(h==="TK_OPERATOR"){e=t(c.text,["--","-"])&&t(v.last_text,["--","-"])||t(c.text,["++","+"])&&t(v.last_text,["++","+"])}if((v.mode===i.BlockStatement||v.mode===i.Statement)&&(v.last_text==="{"||v.last_text===";")){k()}}else if(c.text===":"){if(v.ternary_depth===0){e=false}else{v.ternary_depth-=1}}else if(c.text==="?"){v.ternary_depth+=1}else if(c.text==="*"&&h==="TK_RESERVED"&&v.last_text==="function"){e=false;n=false}s.space_before_token=s.space_before_token||e;A();s.space_before_token=n}function Y(){var e=N(c.text);var t;var r=false;var i=false;var o=c.whitespace_before;var u=o.length;k(false,true);if(e.length>1){if(F(e.slice(1),"*")){r=true}else if(I(e.slice(1),o)){i=true}}A(e[0]);for(t=1;t<e.length;t++){k(false,true);if(r){A(" "+n(e[t]))}else if(i&&e[t].length>u){A(e[t].substring(u))}else{s.add_token(e[t])}}k(false,true)}function Z(){s.space_before_token=true;A();s.space_before_token=true}function et(){if(c.wanted_newline){k(false,true)}else{s.trim(true)}s.space_before_token=true;A();k(false,true)}function tt(){if(j()){}if(h==="TK_RESERVED"&&q(v.last_text)){s.space_before_token=true}else{C(v.last_text===")"&&w.break_chained_methods)}A()}function nt(){A();if(c.text[c.text.length-1]==="\n"){k()}}function rt(){while(v.mode===i.Statement){H()}}var s;var o=[],a;var l;var c;var h,p,d;var v,m,g;var y;var b,w;var E="";b={TK_START_EXPR:U,TK_END_EXPR:z,TK_START_BLOCK:W,TK_END_BLOCK:X,TK_WORD:V,TK_RESERVED:V,TK_SEMICOLON:$,TK_STRING:J,TK_EQUALS:K,TK_OPERATOR:G,TK_COMMA:Q,TK_BLOCK_COMMENT:Y,TK_INLINE_COMMENT:Z,TK_COMMENT:et,TK_DOT:tt,TK_UNKNOWN:nt,TK_EOF:rt};r=r?r:{};w={};if(r.braces_on_own_line!==undefined){w.brace_style=r.braces_on_own_line?"expand":"collapse"}w.brace_style=r.brace_style?r.brace_style:w.brace_style?w.brace_style:"collapse";if(w.brace_style==="expand-strict"){w.brace_style="expand"}w.indent_size=r.indent_size?parseInt(r.indent_size,10):4;w.indent_char=r.indent_char?r.indent_char:" ";w.preserve_newlines=r.preserve_newlines===undefined?true:r.preserve_newlines;w.break_chained_methods=r.break_chained_methods===undefined?false:r.break_chained_methods;w.max_preserve_newlines=r.max_preserve_newlines===undefined?0:parseInt(r.max_preserve_newlines,10);w.space_in_paren=r.space_in_paren===undefined?false:r.space_in_paren;w.space_in_empty_paren=r.space_in_empty_paren===undefined?false:r.space_in_empty_paren;w.jslint_happy=r.jslint_happy===undefined?false:r.jslint_happy;w.space_after_anon_function=r.space_after_anon_function===undefined?false:r.space_after_anon_function;w.keep_array_indentation=r.keep_array_indentation===undefined?false:r.keep_array_indentation;w.space_before_conditional=r.space_before_conditional===undefined?true:r.space_before_conditional;w.unescape_strings=r.unescape_strings===undefined?false:r.unescape_strings;w.wrap_line_length=r.wrap_line_length===undefined?0:parseInt(r.wrap_line_length,10);w.e4x=r.e4x===undefined?false:r.e4x;w.end_with_newline=r.end_with_newline===undefined?false:r.end_with_newline;if(w.jslint_happy){w.space_after_anon_function=true}if(r.indent_with_tabs){w.indent_char="	";w.indent_size=1}d="";while(w.indent_size>0){d+=w.indent_char;w.indent_size-=1}var x=0;if(e&&e.length){while(e.charAt(x)===" "||e.charAt(x)==="	"){E+=e.charAt(x);x+=1}e=e.substring(x)}h="TK_START_BLOCK";p="";s=new u(d,E);g=[];_(i.BlockStatement);this.beautify=function(){var t,n;l=new f(e,w,d);o=l.tokenize();a=0;while(t=R()){for(var r=0;r<t.comments_before.length;r++){T(t.comments_before[r])}T(t);p=v.last_text;h=t.type;v.last_text=t.text;a+=1}n=s.get_code();if(w.end_with_newline){n+="\n"}return n}}function o(e){var t=0;var n=-1;var r=[];var i=true;this.set_indent=function(r){t=e.baseIndentLength+r*e.indent_length;n=r};this.get_character_count=function(){return t};this.is_empty=function(){return i};this.last=function(){if(!this._empty){return r[r.length-1]}else{return null}};this.push=function(e){r.push(e);t+=e.length;i=false};this.remove_indent=function(){if(n>0){n-=1;t-=e.indent_length}};this.trim=function(){while(this.last()===" "){var e=r.pop();t-=1}i=r.length===0};this.toString=function(){var t="";if(!this._empty){if(n>=0){t=e.indent_cache[n]}t+=r.join("")}return t}}function u(e,t){t=t||"";this.indent_cache=[t];this.baseIndentLength=t.length;this.indent_length=e.length;var n=[];this.baseIndentString=t;this.indent_string=e;this.current_line=null;this.space_before_token=false;this.get_line_number=function(){return n.length};this.add_new_line=function(e){if(this.get_line_number()===1&&this.just_added_newline()){return false}if(e||!this.just_added_newline()){this.current_line=new o(this);n.push(this.current_line);return true}return false};this.add_new_line(true);this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e};this.set_indent=function(e){if(n.length>1){while(e>=this.indent_cache.length){this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string)}this.current_line.set_indent(e);return true}this.current_line.set_indent(0);return false};this.add_token=function(e){this.add_space_before_token();this.current_line.push(e)};this.add_space_before_token=function(){if(this.space_before_token&&!this.just_added_newline()){this.current_line.push(" ")}this.space_before_token=false};this.remove_redundant_indentation=function(e){if(e.multiline_frame||e.mode===i.ForInitializer||e.mode===i.Conditional){return}var t=e.start_line_index;var r;var s=n.length;while(t<s){n[t].remove_indent();t++}};this.trim=function(r){r=r===undefined?false:r;this.current_line.trim(e,t);while(r&&n.length>1&&this.current_line.is_empty()){n.pop();this.current_line=n[n.length-1];this.current_line.trim()}};this.just_added_newline=function(){return this.current_line.is_empty()};this.just_added_blankline=function(){if(this.just_added_newline()){if(n.length===1){return true}var e=n[n.length-2];return e.is_empty()}return false}}function f(r,i,s){function g(){var g,b;var w=[];c=0;h="";if(v>=m){return["","TK_EOF"]}var E;if(d.length){E=d[d.length-1]}else{E=new a("TK_START_BLOCK","{")}var S=r.charAt(v);v+=1;while(t(S,o)){if(S==="\n"){c+=1;w=[]}else if(c){if(S===s){w.push(s)}else if(S!=="\r"){w.push(" ")}}if(v>=m){return["","TK_EOF"]}S=r.charAt(v);v+=1}if(w.length){h=w.join("")}if(u.test(S)){var x=true;var T=true;var N=u;if(S==="0"&&v<m&&/[Xx]/.test(r.charAt(v))){x=false;T=false;S+=r.charAt(v);v+=1;N=/[0123456789abcdefABCDEF]/}else{S="";v-=1}while(v<m&&N.test(r.charAt(v))){S+=r.charAt(v);v+=1;if(x&&v<m&&r.charAt(v)==="."){S+=r.charAt(v);v+=1;x=false}if(T&&v<m&&/[Ee]/.test(r.charAt(v))){S+=r.charAt(v);v+=1;if(v<m&&/[+-]/.test(r.charAt(v))){S+=r.charAt(v);v+=1}T=false;x=false}}return[S,"TK_WORD"]}if(e.isIdentifierStart(r.charCodeAt(v-1))){if(v<m){while(e.isIdentifierChar(r.charCodeAt(v))){S+=r.charAt(v);v+=1;if(v===m){break}}}if(!(E.type==="TK_DOT"||E.type==="TK_RESERVED"&&t(E.text,["set","get"]))&&t(S,l)){if(S==="in"){return[S,"TK_OPERATOR"]}return[S,"TK_RESERVED"]}return[S,"TK_WORD"]}if(S==="("||S==="["){return[S,"TK_START_EXPR"]}if(S===")"||S==="]"){return[S,"TK_END_EXPR"]}if(S==="{"){return[S,"TK_START_BLOCK"]}if(S==="}"){return[S,"TK_END_BLOCK"]}if(S===";"){return[S,"TK_SEMICOLON"]}if(S==="/"){var C="";var k=true;if(r.charAt(v)==="*"){v+=1;if(v<m){while(v<m&&!(r.charAt(v)==="*"&&r.charAt(v+1)&&r.charAt(v+1)==="/")){S=r.charAt(v);C+=S;if(S==="\n"||S==="\r"){k=false}v+=1;if(v>=m){break}}}v+=2;if(k&&c===0){return["/*"+C+"*/","TK_INLINE_COMMENT"]}else{return["/*"+C+"*/","TK_BLOCK_COMMENT"]}}if(r.charAt(v)==="/"){C=S;while(r.charAt(v)!=="\r"&&r.charAt(v)!=="\n"){C+=r.charAt(v);v+=1;if(v>=m){break}}return[C,"TK_COMMENT"]}}if(S==="`"||S==="'"||S==='"'||(S==="/"||i.e4x&&S==="<"&&r.slice(v-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&(E.type==="TK_RESERVED"&&t(E.text,["return","case","throw","else","do","typeof","yield"])||E.type==="TK_END_EXPR"&&E.text===")"&&E.parent&&E.parent.type==="TK_RESERVED"&&t(E.parent.text,["if","while","for"])||t(E.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var L=S,A=false,O=false;b=S;if(L==="/"){var M=false;while(v<m&&(A||M||r.charAt(v)!==L)&&!e.newline.test(r.charAt(v))){b+=r.charAt(v);if(!A){A=r.charAt(v)==="\\";if(r.charAt(v)==="["){M=true}else if(r.charAt(v)==="]"){M=false}}else{A=false}v+=1}}else if(i.e4x&&L==="<"){var _=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g;var D=r.slice(v-1);var P=_.exec(D);if(P&&P.index===0){var H=P[2];var B=0;while(P){var j=!!P[1];var F=P[2];var I=!!P[P.length-1]||F.slice(0,8)==="![CDATA[";if(F===H&&!I){if(j){--B}else{++B}}if(B<=0){break}P=_.exec(D)}var q=P?P.index+P[0].length:D.length;v+=q-1;return[D.slice(0,q),"TK_STRING"]}}else{while(v<m&&(A||r.charAt(v)!==L&&(L==="`"||!e.newline.test(r.charAt(v))))){b+=r.charAt(v);if(A){if(r.charAt(v)==="x"||r.charAt(v)==="u"){O=true}A=false}else{A=r.charAt(v)==="\\"}v+=1}}if(O&&i.unescape_strings){b=y(b)}if(v<m&&r.charAt(v)===L){b+=L;v+=1;if(L==="/"){while(v<m&&e.isIdentifierStart(r.charCodeAt(v))){b+=r.charAt(v);v+=1}}}return[b,"TK_STRING"]}if(S==="#"){if(d.length===0&&r.charAt(v)==="!"){b=S;while(v<m&&S!=="\n"){S=r.charAt(v);b+=S;v+=1}return[n(b)+"\n","TK_UNKNOWN"]}var R="#";if(v<m&&u.test(r.charAt(v))){do{S=r.charAt(v);R+=S;v+=1}while(v<m&&S!=="#"&&S!=="=");if(S==="#"){}else if(r.charAt(v)==="["&&r.charAt(v+1)==="]"){R+="[]";v+=2}else if(r.charAt(v)==="{"&&r.charAt(v+1)==="}"){R+="{}";v+=2}return[R,"TK_WORD"]}}if(S==="<"&&r.substring(v-1,v+3)==="<!--"){v+=3;S="<!--";while(r.charAt(v)!=="\n"&&v<m){S+=r.charAt(v);v++}p=true;return[S,"TK_COMMENT"]}if(S==="-"&&p&&r.substring(v-1,v+2)==="-->"){p=false;v+=2;return["-->","TK_COMMENT"]}if(S==="."){return[S,"TK_DOT"]}if(t(S,f)){while(v<m&&t(S+r.charAt(v),f)){S+=r.charAt(v);v+=1;if(v>=m){break}}if(S===","){return[S,"TK_COMMA"]}else if(S==="="){return[S,"TK_EQUALS"]}else{return[S,"TK_OPERATOR"]}}return[S,"TK_UNKNOWN"]}function y(e){var t=false,n="",r=0,i="",s=0,o;while(t||r<e.length){o=e.charAt(r);r++;if(t){t=false;if(o==="x"){i=e.substr(r,2);r+=2}else if(o==="u"){i=e.substr(r,4);r+=4}else{n+="\\"+o;continue}if(!i.match(/^[0123456789abcdefABCDEF]+$/)){return e}s=parseInt(i,16);if(s>=0&&s<32){if(o==="x"){n+="\\x"+i}else{n+="\\u"+i}continue}else if(s===34||s===39||s===92){n+="\\"+String.fromCharCode(s)}else if(o==="x"&&s>126&&s<=255){return e}else{n+=String.fromCharCode(s)}}else if(o==="\\"){t=true}else{n+=o}}return n}var o="\n\r	 ".split("");var u=/[0-9]/;var f=("+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>"+" <%= <% %> <?= <? ?>").split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,yield,import,export".split(",");var l=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof"]);var c,h,p,d,v;var m;this.tokenize=function(){m=r.length;v=0;p=false;d=[];var e,t;var n;var i=null;var s=[];var o=[];while(!(t&&t.type==="TK_EOF")){n=g();e=new a(n[1],n[0],c,h);while(e.type==="TK_INLINE_COMMENT"||e.type==="TK_COMMENT"||e.type==="TK_BLOCK_COMMENT"||e.type==="TK_UNKNOWN"){o.push(e);n=g();e=new a(n[1],n[0],c,h)}if(o.length){e.comments_before=o;o=[]}if(e.type==="TK_START_BLOCK"||e.type==="TK_START_EXPR"){e.parent=t;i=e;s.push(e)}else if((e.type==="TK_END_BLOCK"||e.type==="TK_END_EXPR")&&i&&(e.text==="]"&&i.text==="["||e.text===")"&&i.text==="("||e.text==="}"&&i.text==="}")){e.parent=i.parent;i=s.pop()}d.push(e);t=e}return d}}var e={};(function(e){var t=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;var n="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";var r="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿";var i=new RegExp("["+n+"]");var s=new RegExp("["+n+r+"]");var o=e.newline=/[\n\r\u2028\u2029]/;var u=/\r\n|[\n\r\u2028\u2029]/g;var a=e.isIdentifierStart=function(e){if(e<65)return e===36;if(e<91)return true;if(e<97)return e===95;if(e<123)return true;return e>=170&&i.test(String.fromCharCode(e))};var f=e.isIdentifierChar=function(e){if(e<48)return e===36;if(e<58)return true;if(e<65)return false;if(e<91)return true;if(e<97)return e===95;if(e<123)return true;return e>=170&&s.test(String.fromCharCode(e))}})(e);var i={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};var a=function(e,t,n,r,i,s){this.type=e;this.text=t;this.comments_before=[];this.newlines=n||0;this.wanted_newline=n>0;this.whitespace_before=r||"";this.parent=null};if(typeof define==="function"&&define.amd){define([],function(){return{js_beautify:r}})}else if(typeof exports!=="undefined"){exports.js_beautify=r}else if(typeof window!=="undefined"){window.js_beautify=r}else if(typeof global!=="undefined"){global.js_beautify=r}})()