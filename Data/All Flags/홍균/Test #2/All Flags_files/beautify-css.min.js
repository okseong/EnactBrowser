(function(){function e(t,n){function h(){c=t.charAt(++l);return c||""}function p(e){var n=l;if(e){m()}result=t.charAt(l+1)||"";l=n-1;h();return result}function d(e){var n=l;while(h()){if(c==="\\"){h()}else if(e.indexOf(c)!==-1){break}else if(c==="\n"){break}}return t.substring(n,l+1)}function v(e){var t=l;var n=d(e);l=t-1;h();return n}function m(){var e="";while(a.test(p())){h();e+=c}return e}function g(){var e="";if(c&&a.test(c)){e=c}while(a.test(h())){e+=c}return e}function y(e){var n=l;var e=p()==="/";h();while(h()){if(!e&&c==="*"&&p()==="/"){h();break}else if(e&&c==="\n"){return t.substring(n,l)}}return t.substring(n,l)+c}function b(e){return t.substring(l-e.length,l).toLowerCase()===e}function w(){for(var e=l+1;e<t.length;e++){var n=t.charAt(e);if(n==="{"){return true}else if(n===";"||n==="}"||n===")"){return false}}return false}function N(){x++;E+=S}function C(){x--;E=E.slice(0,-r)}n=n||{};var r=n.indent_size||4;var i=n.indent_char||" ";var s=n.selector_separator_newline===undefined?true:n.selector_separator_newline;var o=n.end_with_newline===undefined?false:n.end_with_newline;var u=n.newline_between_rules===undefined?true:n.newline_between_rules;if(typeof r==="string"){r=parseInt(r,10)}var a=/^\s+$/;var f=/[\w$\-_]/;var l=-1,c;var E=t.match(/^[\t ]*/)[0];var S=(new Array(r+1)).join(i);var x=0;var T=0;var k={};k["{"]=function(e){k.singleSpace();L.push(e);k.newLine()};k["}"]=function(e){k.newLine();L.push(e);k.newLine()};k._lastCharWhitespace=function(){return a.test(L[L.length-1])};k.newLine=function(e){if(!e){k.trim()}if(L.length){L.push("\n")}if(E){L.push(E)}};k.singleSpace=function(){if(L.length&&!k._lastCharWhitespace()){L.push(" ")}};k.trim=function(){while(k._lastCharWhitespace()){L.pop()}};var L=[];if(E){L.push(E)}var A=false;var O=false;var M="";var _="";while(true){var D=g();var P=D!=="";var H=D.indexOf("\n")!==-1;var _=M;var M=c;if(!c){break}else if(c==="/"&&p()==="*"){var B=b("");k.newLine();L.push(y());k.newLine();if(B){k.newLine(true)}}else if(c==="/"&&p()==="/"){if(!H&&_!=="{"){k.trim()}k.singleSpace();L.push(y());k.newLine()}else if(c==="@"){if(P){k.singleSpace()}L.push(c);var j=v(": ,;{}()[]/='\"").replace(/\s$/,"");if(j in e.NESTED_AT_RULE){T+=1;if(j in e.CONDITIONAL_GROUP_RULE){O=true}}else if(": ".indexOf(j[j.length-1])>=0){h();j=d(": ").replace(/\s$/,"");L.push(j);k.singleSpace()}}else if(c==="{"){if(p(true)==="}"){m();h();k.singleSpace();L.push("{}");k.newLine();if(u&&x===0){k.newLine(true)}}else{N();k["{"](c);if(O){O=false;A=x>T}else{A=x>=T}}}else if(c==="}"){C();k["}"](c);A=false;if(T){T--}if(u&&x===0){k.newLine(true)}}else if(c===":"){m();if((A||O)&&!(b("&")||w())){L.push(":");k.singleSpace()}else{if(p()===":"){h();L.push("::")}else{L.push(":")}}}else if(c==='"'||c==="'"){if(P){k.singleSpace()}L.push(d(c))}else if(c===";"){L.push(c);k.newLine()}else if(c==="("){if(b("url")){L.push(c);m();if(h()){if(c!==")"&&c!=='"'&&c!=="'"){L.push(d(")"))}else{l--}}}else{if(P){k.singleSpace()}L.push(c);m()}}else if(c===")"){L.push(c)}else if(c===","){L.push(c);m();if(!A&&s){k.newLine()}else{k.singleSpace()}}else if(c==="]"){L.push(c)}else if(c==="["){if(P){k.singleSpace()}L.push(c)}else if(c==="="){m();L.push(c)}else{if(P){k.singleSpace()}L.push(c)}}var F=L.join("").replace(/[\r\n\t ]+$/,"");if(o){F+="\n"}return F}e.NESTED_AT_RULE={"@page":true,"@font-face":true,"@keyframes":true,"@media":true,"@supports":true,"@document":true};e.CONDITIONAL_GROUP_RULE={"@media":true,"@supports":true,"@document":true};if(typeof define==="function"&&define.amd){define([],function(){return{css_beautify:e}})}else if(typeof exports!=="undefined"){exports.css_beautify=e}else if(typeof window!=="undefined"){window.css_beautify=e}else if(typeof global!=="undefined"){global.css_beautify=e}})()